<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Firebase Test</title>
</head>
<body>

<h2>Firebase Test</h2>
<div id="status">Starting...</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

const statusEl = document.getElementById("status");

const firebaseConfig = {
  apiKey: "AIzaSyACIKwrp-KV6o2vRM6adXESjU1-OpbVscc",
  authDomain: "cess-cb730.firebaseapp.com",
  databaseURL: "https://cess-cb730-default-rtdb.firebaseio.com",
  projectId: "cess-cb730",
  storageBucket: "cess-cb730.firebasestorage.app",
  messagingSenderId: "324360812002",
  appId: "1:324360812002:web:6a9bedb2cfc67db41a75bb"
};

statusEl.innerText = "Initializing Firebase...";

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getDatabase(app);

signInAnonymously(auth)
.then(() => {
  statusEl.innerText = "Logged in anonymously âœ”ï¸";
  set(ref(db, "testMessage"), { message: "Hello from test!" });
})
.catch(err => {
  statusEl.innerText = "Login failed: " + err.message;
});
</script>

</body>
</html>
